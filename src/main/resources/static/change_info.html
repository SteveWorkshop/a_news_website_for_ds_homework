<!DOCTYPE html>
<html lang="zxx">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>主页 - WAP应用程序</title>
	<!-- Template CSS -->
	<link rel="stylesheet" href="assets/css/style-starter.css">
	<!-- Template CSS -->
	<link href="http://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700&display=swap" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Montserrat:300,300i,400,600,700,800&display=swap"
		rel="stylesheet">
	<!-- Template CSS -->


</head>

<body>
	<!-- Headers-4 block -->
	<section class="w3l-header-6-main mobile-header">
		<div class="header-section-hny">
			<div class="header-top">
				<div class="container">
					<!-- /header-top-inn-->
					<div class="header-inn-top row">
						<div class="logo-brand col-6">
							<a class="navbar-brand" href="index.html">
								<img src="assets/images/logo.png" alt="" title="Webzine"
									style="max-height:40px;width:100%;" />
							</a>
						</div>
						<div class="menu-overlay-left col-6 ml-auto">
							<div class="two-pops d-flex">
								<div id="username-diaplay-center" style="color: white; margin: 5px;">
									{{ USERNAME }}
								</div>
								<div style="color: white; margin: 5px;">
									<a id="btn-register" href="javascript:void(0);"
										onclick="switchPage('./register.html')" style="color: white;">注册</a>
								</div>
								<a id="btn-userinfo" href="javascript:void(0);" onclick="switchPage('./login.html')"
									class="author-user"><span class="fa fa-user" aria-hidden="true"></span></a>



								<!-- overlay-menuv-menu -->
								<div class="overlay-menuv-hny">
									<input type="checkbox" id="op"></input>
									<div class="side-menu-hny">
										<label for="op" class="menuopen">
											<span class="fa fa-bars" aria-hidden="true"></span></label>
									</div>
									<div class="overlay-menuv overlay-menuv-hugeinc">
										<label for="op" class="menuclose"><span class="fa fa-times"
												aria-hidden="true"></span></label>
										<div class="side-show-content text-left">

											<div class="quick-links-side gap-top">
												<h3 class="side-title">关于此应用程序</h3>
												<p>{{ #APPNAME# }}</p>
												<p> 仅供测试使用（内部版本2400.1）
												</p>
												<p>会话ID：{{ sesssionID }}</p>

											</div>

											<div class="quick-links-side gap-top">
												<h3 class="side-title">作者</h3>
												<ul>
													<li><a href="#">上局宁东段ND5-0339</a></li>
												</ul>
											</div>

											<div class="quick-links-side gap-top">
												<h3 class="side-title">STEVE WORKSHOP机密</h3>
												<ul>
													<li><a href="#"
															style="color: red;">任何未经授权使的用或披露都可能导致纪律处分，包括终止雇佣关系（对于员工），终止任务分配或合同（对于临时员工），以及潜在的民事和刑事责任。</a>
													</li>
													<li><a>评估副本，过期时间：2022-12-21 04:00</a></li>
												</ul>
											</div>

											<div class="quick-links-side gap-top">
												<h3 class="side-title">快速导航</h3>
												<ul>
													<li><a>主页</a></li>
													<li><a>我的兴趣源</a></li>
													<li><a>我的收藏</a></li>
													<li><a>我的{{#APPNAME#}}</a></li>
												</ul>
											</div>
											<div class="quick-links-side follow-us gap-top">
												<h3 class="side-title">占位符</h3>
												<ul class="social-icons-top">
													<li><a class="facebook" href="#"><span class="fa fa-facebook"
																aria-hidden="true"></span></a>
													</li>
													<li><a class="twitter" href="#"><span class="fa fa-twitter"
																aria-hidden="true"></span></a></li>
													<li><a class="google" href="#"><span class="fa fa-google-plus"
																aria-hidden="true"></span></a>
													</li>
													<li><a class="instagram" href="#"><span class="fa fa-instagram"
																aria-hidden="true"></span></a>
													</li>
												</ul>
											</div>
										</div>

									</div>

								</div>
								<div class="search-right">

									<a href="#search" title="search"><span class="fa fa-search"
											aria-hidden="true"></span></a>
									<!-- search popup -->


									<div id="search" class="pop-overlay">
										<div class="popup">

											<form action="#" method="post" class="search-box">
												<input type="search" placeholder="Keyword" name="search"
													required="required" autofocus="">
												<button type="submit" class="btn mt-3">搜索</button>
											</form>

										</div>

										<a class="close" href="#">×</a>
									</div>
									<!-- /search popup -->
								</div>
							</div>
							<!-- overlay-menuv-menu -->
						</div>
					</div>
					<!-- //header-top-inn-->
				</div>
			</div>
			<header class="header-hny-block">
				<div class="container">
					<!-- /.nav-collapse -->
					<nav class="navbar navbar-expand-lg navbar-light">

						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
							aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarNav">
							<ul class="navbar-nav mr-lg-auto">

								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
										data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										主页</a>
									<div class="dropdown-menu" aria-labelledby="navbarDropdown">
										<a href="javascript:void(0);" class="dropdown-item"
											onclick="switchPage('./news.html')">全部新闻</a>
										<a class="dropdown-item">{{type_name}}</a>
									</div>
								</li>
								<li class="nav-item">
									<a class="nav-link">我的兴趣源</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="javascript:void(0);"
										onclick="switchPage('./favorites.html')">我的收藏</a>
								</li>

								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button"
										data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										我的{{#APPNAME#}}</a>
									<div class="dropdown-menu" aria-labelledby="navbarDropdown">
										<a href="javascript:void(0);" onclick="switchPage('./change_pwd.html')"
											class="dropdown-item">修改密码</a>
										<a href="javascript:void(0);" class="dropdown-item"
											onclick="switchPage('./change_info.html')">修改资料</a>
									</div>
								</li>
							</ul>
							<div class="social-right">
								<ul class="social-icons-top">
									<li><a class="facebook" href="#"><span class="fa fa-facebook"
												aria-hidden="true"></span></a>
									</li>
									<li><a class="twitter" href="#"><span class="fa fa-twitter"
												aria-hidden="true"></span></a></li>
									<li><a class="google" href="#"><span class="fa fa-google-plus"
												aria-hidden="true"></span></a>
									</li>
									<li><a class="instagram" href="#"><span class="fa fa-instagram"
												aria-hidden="true"></span></a>
									</li>
								</ul>
							</div>
						</div>
					</nav>
				</div>
					<!-- /.nav-collapse -->
			</header>
		</div>
	</section>
	<!--w3l-banner-slider-main-->
	<section class="w3l-banner-slider-main">
		<div class="container">
			<div class="content-baner-inf">
				<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
					<ol class="carousel-indicators">
						<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
					</ol>
					<div class="carousel-inner">
					</div>
					<!-- <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a> -->
				</div>
			</div>
		</div>
		<script src="assets/js/jquery-3.3.1.min.js"></script>
		<script src="assets/js/bootstrap.min.js"></script>

	</section>

	<!-- 主题 -->
	<!-- //w3l-banner-slider-main -->
	<section class="w3l-mag-main">
		<!--/mag-content-->
		<div class="mag-content-inf py-2">
			<div class="container">
				<div class="blog-inner-grids py-md-1 row">
					<section class="w3l-contact-main">
						<div class="contact-infhny py-5">
							<div class="container">
								<div class="contact-grids row py-lg-5 mt-lg-4">
									<div class="contact-left col-lg-6">
										<h3>用户信息</h3>
										<h4>完善资料，立即破冰，让我们认识你</h4>
										<h6>*我们可能会根据您的个人信息定制适合您的推荐算法，该功能会在将来的构建中测试，但不保证发布于生产版本中。</h6>
										<h6>此应用程序是开源软件，若要查看我们的算法，请访问我们的GitHub项目</h6>
									</div>
									<div class="contact-right col-lg-6">
										<form id="form-change-info" class="signin-form">
											<div class="input-grids">
												<span>用户ID（此选项不可修改）</span><input type="text" id="uid" name="uid" placeholder="" readonly
													class="contact-input" />
												<span>用户名</span><input type="text" id="username" name="username" placeholder="希望我们如何显示你？"
													class="contact-input" />
												<span>电子邮件地址</span><input type="email" id="email" name="email" placeholder="someone@example.com"
													class="contact-input" />
												<div class="radio">
													<span>性别</span><br>
													<span>我是女孩：</span><input class="radio" type="radio" id="gender-girl" name="gender" value='0' checked />
													<span>我是男孩：</span><input class="radio" type="radio" id="gender-boy" name="gender" value='1' />
												</div>
				
												<span>您属于什么类型的用户？</span><br>
												<select id="type-name" name="type_name">
													<option>
														{{ type_name }}
													</option>
												</select>
											</div>
											<div class="form-input mb-5">
				
				
											</div>
											<button class="btn submit">保存修改</button>
										</form>
									</div>
				
								</div>
							</div>
						</div>
					</section>



				</div>
				<!--/newsletter-->
				<div class="form-inner-newsletter py-lg-5">

					<div class="newsletter-infhny p-md-5 p-4">
						<div class="newsletter-inn-con p-lg-5">
							<p>欢迎加入预览体验计划，成为内幕人士</p>
							<h2>留下您的联系方式！</h2>

							<form action="#" method="post" class="newsletter-form mt-md-5">
								<div class="form-input">
									<input type="email" name="email" class="form-control" placeholder="电子邮件地址或电话号码"
										required="">
								</div>
								<div class="form-input mt-md-10 mt-5"><button id="btn-join-insider"
										onclick="javascript:void(alert('正在开发，暂不开放'));" class="btn">加入Insider计划</button>
								</div>
							</form>
						</div>
					</div>
				</div>
				<!--//newsletter-->
			</div>
		</div>
		<!--//mag-content-->
		<script src="assets/js/jquery-3.3.1.js"></script>
		<script src="assets/js/jquery.cookie.js"></script>
		<script src="assets/js/grids.owl.carousel.js"></script>
		<script>
			$(document).ready(function () {
				$('.owl-carousel').owlCarousel({
					loop: true,
					margin: 0,
					responsiveClass: true,
					autoplay: true,
					autoplayTimeout: 2000,
					autoplaySpeed: 1000,
					autoplayHoverPause: true,
					responsive: {
						0: {
							items: 1,
							nav: false
						},
						480: {
							items: 2,
							nav: true,
							margin: 20
						},
						667: {
							items: 3,
							nav: true,
							margin: 20
						},
						1000: {
							items: 5,
							nav: true,
							margin: 20
						}
					}
				})
			})
		</script>
		<!-- /slider -->
	</section>
	<!-- footer-66 -->
	<footer class="w3l-footer-66">
		<section class="footer-inner-main py-md-5 py-5">
			<div class="container">
				<div class="footer-top row">
					<div class="sub-one-left col-lg-4 col-md-6">
						<h6>关于此应用程序</h6>
						<p>仅供测试使用，任何未经授权使的用或披露都可能导致纪律处分，包括终止雇佣关系（对于员工），终止任务分配或合同（对于临时员工），以及潜在的民事和刑事责任。</p>
						<p>版本2400.1.fs_prelease_sigma_rd</p>
					</div>
					<div class="sub-two-right col-lg-4 col-md-6 my-md-0 my-5">
						<h6>DASHBOARD</h6>
						<div class="row editor-pics mb-3">
							<div class="col-3 item-pic">
								<img src="assets/images/m4.jpg" class="img-fluid" alt="">

							</div>
							<div class="col-9 item-details">
								<a href="#">
									<h5 class="inner">SHH...Let's not leak our hard work!</h5>
								</a>
								<div class="td-post-date">Jan 22, 2020</div>
							</div>

						</div>
						<div class="row editor-pics mb-3">
							<div class="col-3 item-pic">
								<img src="assets/images/m4.jpg" class="img-fluid" alt="">

							</div>
							<div class="col-9 item-details">
								<a href="#">
									<h5 class="inner">关于坚决抵制cssmoban.com违反开源协议，利用开源项目获取非法收入的行为</h5>
								</a>
								<div class="td-post-date">Jan 22, 2020</div>
							</div>

						</div>

					</div>

					<div class="sub-one-left col-lg-4 col-md-6 mt-lg-0 mt-md-5">
						<h6>静态页面选项</h6>
						<div class="columns-2 d-flex">

							<ul class="footer-sub-gd">
								<li><a href="#">预留</a></li>
								<li><a href="#">关于我们</a></li>
								<li><a href="#">用户协议&隐私政策</a></li>
								<li><a href="#">开源软件声明</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</section>
		<div class="below-section">
			<div class="container">
				<div class="copyright-footer text-center">

					<p>Copyright &copy; 2020.Company name All rights reserved.<a target="_blank"
							href="http://www.cssmoban.com/">装什么蒜啊？恰烂钱的电商平台</a></p>
				</div>
			</div>
			<!-- move top -->
			<button onclick="topFunction()" id="movetop" title="返回顶端">
				<span class="fa fa-arrow-up" aria-hidden="true"></span>
			</button>

			<!-- /move top -->
		</div>
		<!-- copyright -->



	</footer>
	<!--//footer-66 -->
	<script src="assets/js/jquery-3.3.1.js"></script>
	<script src="assets/js/jquery.cookie.js"></script>
	<script>

		$(document).ready(function () {
			checkIfLoggedIn();
			$.ajax({
				url: '/users/get_by_uid',
				type: 'get',
				dataType: 'json',
			
				success: function (json) {
					alert(json.state)
					if (json.state == 200) {
						initUserTypeSelection();
						var vo = json.data;
						$('#uid').val(vo.uid);
						$('#username').val(vo.username);
						$('#email').val(vo.email);
						let radio = vo.gender == 0 ? $("#gender-girl") : $("#gender-boy");
						radio.prop("checked", "checked");
					}
					else {
						alert(json.message)
					}
				},
				error: function (xhr) {
					alert("发生错误！请检查服务器是否启动及跨域问题，状态字：" + xhr.status)
				}
			})
		})

		function initUserTypeSelection() {
			$('#user-type').empty();
			$.ajax({
				url: "/user_types/find_all",
				type: "get",
				dataType: "json",
				success: function (json) {
					//alert(json.state)
					if (json.state == 200) {
						//没办法，JQ用到底吧。。。
						let data = json.data;
						for (let i = 0; i < data.length; i++) {
							let html = "<option>#{typeName}</option>";
							html = html.replace(/#{typeName}/g, data[i].typeName);
						}
						$('#user-type').append(html);
					}
					else {
						alert(json.message)
						window.parent.notify('深度资讯遇到错误', json.message);
					}
				},
				error: function (xhr) {
					alert("发生错误！请检查服务器是否启动及跨域问题，状态字：" + xhr.status)
				}
			})
		}


		function notify(title, content) {
			if (!('Notification' in window)) {
				//改成用对话框实现通知
				alert(title + ' : ' + content)
			}
			//检查是否拥有通知权限；有就通知，没有请求；
			else if (Notification.permission == 'granted') {
				var options = {
					icon: 'assets/images/notification.png',
					body: content
				}
				var notification = new Notification(title, options);

			} else if (Notification.permission !== 'denied') {
				Notification.requestPermission().then(function (result) {
					if (result == 'granted') {
						var notification = new Notification(title, options);
					}
				})
			}

		}

		function checkIfLoggedIn()//根据是否登录调整显示效果
		{
			if ($.cookie("username") != undefined) {
				$("#btn-register").css("visibility", "hidden")
				$("#username-diaplay-center").css("visibility", "visible")
				$("#username-diaplay-center").html($.cookie("username"))
				return true;
			}
			else {
				$("#btn-register").css("visibility", "visible")
				$("#username-diaplay-center").css("visibility", "hidden")
				return false;
			}
		}

		// When the user scrolls down 20px from the top of the document, show the button
		window.onscroll = function () {
			scrollFunction()
		};

		function scrollFunction() {
			if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
				document.getElementById("movetop").style.display = "block";
			} else {
				document.getElementById("movetop").style.display = "none";
			}
		}

		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}

		function switchPage(url) {
            location.href=url
        }
	</script>
</body>

</html>